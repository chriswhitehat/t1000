#
# /etc/smb/smb.conf
#
# Generated by Chef for <%= node[:fqdn] %>
# 

[global]
workgroup = <%= node[:t1000][:smb][:workgroup] %>
server string = <%= node[:t1000][:smb][:server_string] %>
netbios name = <%= node[:t1000][:smb][:netbios_name] %>
dns proxy = no
log file = /var/log/samba/log.all
log level = 0
syslog only = yes
syslog = 0
vfs object = full_audit
full_audit:prefix = %U|%I|%i|%m|%S|%L|%R|%a|%T|%D
full_audit:success = pread
full_audit:failure = none
full_audit:facility = <%= node[:t1000][:smb][:syslog_facility] %>
full_audit:priority = notice
max log size = 100
panic action = /usr/share/samba/panic-action %d
#samba 4
server role = standalone server
#samba 3
#security = user
passdb backend = tdbsam
obey pam restrictions = yes
unix password sync = no
map to guest = bad user
usershare allow guests = yes

[<%= node[:t1000][:smb][:share_name] %>]
comment = <%= node[:t1000][:smb][:share_comment] %>
path = <%= node[:t1000][:smb][:share_path] %>
guest ok = yes
read only = yes
browseable = yes
#vfs object = audit
